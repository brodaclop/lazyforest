(this.webpackJsonpterkep=this.webpackJsonpterkep||[]).push([[0],{100:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(40),i=a.n(c),o=(a(100),a(29)),l=a.n(o),s=a(86),u=a(14),d=a(42),g=a(31),h=a(10),j=["base","river","road","object"],A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},p=function(e){var t=A([0,0],e);return[e[0]/t,e[1]/t]},b=function(e,t){return p([e[1]-t[1],t[0]-e[0]])},m=function(e,t){return[e[0]*t,e[1]*t]},O=function(e,t){return[e[0]+t[0],e[1]+t[1]]},x=function(e,t){return[e[0]-t[0],e[1]-t[1]]},v=function(e){return[-e[0],-e[1]]},f=function(e,t){return[Math.cos(t)*e,Math.sin(t)*e]},w=function(e,t){var a=x(e[1],e[0]),n=x(t[1],t[0]),r=x(e[0],t[0]),c=n[0]*r[1]-n[1]*r[0],i=a[0]*r[1]-a[1]*r[0],o=n[1]*a[0]-n[0]*a[1];if(0!==o){var l=c/o,s=i/o;if(0<=l&&l<=1&&0<=s&&s<=1)return l}return null};window.test=w;var C=function(e,t,a,n){var r=[e.canvas.width/a.size[0],e.canvas.height/a.size[1]],c=function(){e.setTransform(new DOMMatrix),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="",e.shadowBlur=0,e.fillStyle="",e.strokeStyle="",e.scale.apply(e,r)},i=function(t){e.beginPath(),e.moveTo.apply(e,Object(u.a)(t[0])),t.slice(1).forEach((function(t){e.lineTo.apply(e,Object(u.a)(t))})),e.closePath()},o=function(r){var o;c();var l=t[r.texture];if(i(r.vertices),e.shadowColor="rgba(30, 30, 30, .5)",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=null!==(o=a.edgeShade)&&void 0!==o?o:0,r.stretch){e.translate.apply(e,Object(u.a)(r.vertices[0]));var s=x(r.vertices[1],r.vertices[0]),d=A(s),g=A(x(r.vertices[2],r.vertices[1])),h=Math.atan2(s[1],s[0]);e.rotate(h);var j=[l.scale/l.loadedImage.width,l.scale/l.loadedImage.height];e.scale.apply(e,j),e.scale(d,g),e.scale(1.2,1.2),e.drawImage(l.loadedImage,-l.loadedImage.width/10,-l.loadedImage.height/10)}else{var v=[l.scale/l.loadedImage.width,l.scale/l.loadedImage.height];if(e.save(),e.scale.apply(e,v),e.fillStyle=e.createPattern(l.loadedImage,"repeat")||"#c0c",e.fill(),e.restore(),r.edge){var f=t[r.edge.texture],w=[f.scale/f.loadedImage.width,f.scale/f.loadedImage.height];i(function(e){for(var t=[],a=0;a<e.vertices.length;a++){var n,r,c=e.vertices[(a+e.vertices.length-1)%e.vertices.length],i=e.vertices[a],o=e.vertices[(a+1)%e.vertices.length],l=b(i,o),s=b(c,i),u=p(O(l,s));t.push(O(i,m(u,null!==(n=null===(r=e.edge)||void 0===r?void 0:r.width[0])&&void 0!==n?n:0)))}for(var d=e.vertices.length-1;d>=0;d--){var g,h,j=e.vertices[(d+e.vertices.length-1)%e.vertices.length],A=e.vertices[d],x=e.vertices[(d+1)%e.vertices.length],v=b(A,x),f=b(j,A),w=p(O(v,f));t.push(O(A,m(w,null!==(g=null===(h=e.edge)||void 0===h?void 0:h.width[1])&&void 0!==g?g:0)))}return t.splice(e.vertices.length,0,t[0],t[t.length-1]),t}(r)),e.scale.apply(e,w),e.fillStyle=e.createPattern(f.loadedImage,"repeat")||"#c0c",e.fill()}}n&&(e.strokeStyle="rgba(255, 255, 0, 1)",e.lineWidth=20,e.stroke())},l=function(a,i){var o;c();var l=t[a.texture];e.moveTo.apply(e,Object(u.a)(a.origin)),e.translate.apply(e,Object(u.a)(a.origin));var s=[l.scale/l.loadedImage.naturalWidth,l.scale/l.loadedImage.naturalHeight];e.scale.apply(e,s),e.rotate(a.orientation);var d=m(i,null!==(o=a.height)&&void 0!==o?o:0);e.shadowColor="rgba(30, 30, 30, .8)",e.shadowOffsetX=d[0],e.shadowOffsetY=d[1],e.shadowBlur=2,e.drawImage(l.loadedImage,-l.loadedImage.naturalWidth/2,-l.loadedImage.naturalHeight/2),n&&(e.shadowOffsetX=0,e.shadowOffsetY=0,function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0ff";c(),e.beginPath(),e.moveTo.apply(e,Object(u.a)(t)),e.strokeStyle=a,e.fillStyle=a,e.arc.apply(e,Object(u.a)(t).concat([2/r[0],0,2*Math.PI])),e.fill(),e.closePath()}(a.origin),e.arc.apply(e,Object(u.a)(a.origin).concat([a.radius,0,2*Math.PI])),e.fillStyle="rgba(255, 0, 0, .5)",e.fill())},s=function(){if(e.clearRect(0,0,e.canvas.width,e.canvas.height),Object.values(a.layers).sort((function(e,t){return j.indexOf(e.type)-j.indexOf(t.type)})).forEach((function(e){var t,n;null===(t=e.areas)||void 0===t||t.sort((function(e,t){return(e.stretch?1:0)-(t.stretch?1:0)})).forEach(o),null===(n=e.objects)||void 0===n||n.sort((function(e,t){return e.height-t.height})).forEach((function(e){return l(e,a.shadowVector)}))})),a.tint&&"none"!==a.tint&&(c(),e.fillStyle=a.tint,e.setTransform(new DOMMatrix),e.fillRect(0,0,e.canvas.width,e.canvas.height)),c(),e.setTransform(new DOMMatrix),a.grid){e.beginPath();for(var t=0;t<a.size[0];t++)e.moveTo(r[0]*t,0),e.lineTo(r[0]*t,e.canvas.height);for(var n=0;n<a.size[1];n++)e.moveTo(0,n*r[1]),e.lineTo(e.canvas.width,n*r[1]);e.strokeStyle="black",e.lineWidth=1,e.stroke()}};s()},S=function(e){return Math.floor(Math.random()*e)},Q=function(e,t){return e+Math.random()*(t-e)},y=function(e,t){var a=Q(.2,.8),n=A(e,t);if(n<.01)return null;var r,c=function(e,t){return[t[0]-e[0],t[1]-e[1]]}(e,t),i=O(e,m(c,a)),o=b(e,t),l=m(o,Q(-(r=.1*n),r));return O(i,l)},E=function(e,t,a,n){var r=m(b(e,t),a/2),c=[e,t],i=c.map((function(e){return O(e,v(r))})),o=c.reverse().map((function(e){return O(e,r)}));return{vertices:[].concat(Object(u.a)(i),Object(u.a)(o)),texture:n,stretch:!0}},D=function e(t,a,n,r,c,i){var o=m(b(t,a),n/2),l=[t,a];if(i&&c){var s=function(e,t){for(var a=[],n=0;n<t.vertices.length;n++){var r=t.vertices[n],c=t.vertices[(n+1)%t.vertices.length],i=w(e,[r,c]);null!==i&&a.push(i)}return a}(l,i);if(s.sort((function(e,t){return e-t})),2===s.length){var d=O(t,m(x(a,t),s[0])),g=O(t,m(x(a,t),s[1]));return[].concat(Object(u.a)(e(t,d,n,r)),Object(u.a)(e(g,a,n,r)),[E(d,g,n,c)])}}for(var h=0;h<1e3;h++){var j=S(l.length-1)+1,A=y(l[j-1],l[j]);A&&l.splice(j,0,A)}var p=l.map((function(e){return O(e,v(o))})),f=l.reverse().map((function(e){return O(e,o)}));return[{vertices:[].concat(Object(u.a)(p),Object(u.a)(f)),texture:r}]},k=function(e,t,a,n){if(e.length>2){var r=e.reduce((function(t,a){return[t[0]+a.from[0]/e.length,t[1]+a.from[1]/e.length]}),[0,0]);return e.flatMap((function(e){return D(e.from,r,e.width,t,a,n)}))}return D(e[0].from,e[1].from,e[0].width,t,a,n)},I=function(e,t,a,n){for(var r=0,c=function(){var n=[Q(0,e[0]),Q(0,e[1])];if(t.every((function(e){return A(e.origin,n)>a+e.radius})))return{v:n}};r++<n;){var i=c();if("object"===typeof i)return i.v}return null},F=function(e,t,a,n,r,c){for(var i=[],o=0;o<a;o++){var l=I(e,i.concat(t),r,1e3);if(null===l){console.warn("stopped object generation at ".concat(o,", too many tries"));break}i.push({origin:l,orientation:Q(0,2*Math.PI),height:n,radius:r,texture:c})}return i},B=function(e){var t=new OffscreenCanvas(1,1).getContext("2d"),a=new Path2D;return a.moveTo.apply(a,Object(u.a)(e.vertices[0])),e.vertices.slice(1).forEach((function(e){a.lineTo.apply(a,Object(u.a)(e))})),a.closePath(),function(e){return t.isPointInPath.apply(t,[a].concat(Object(u.a)(e)))}},U=function(e,t,a,n,r,c){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=i.map(B);return F(e,t,a,n,r,c).filter((function(e){return o.every((function(t){return!t(e.origin)}))}))},J=function(e){var t=S(4),a=e[t%2],n=Q(.1*a,.9*a);switch(t){case 0:return[n,-2];case 1:return[e[0]+2,n];case 2:return[n,e[1]+2];case 3:return[-2,n];default:throw new Error("randomInt(4) returned a weird value")}},K=function(e,t){return{layers:{base:{areas:[{vertices:[[0,0],[e[0],0],e,[0,e[1]]],texture:t}],type:"base"}},shadowVector:[0,0],size:e}},R=function(e,t,a,n,r,c,i){var o=e.size,l=[{from:[Q(.1*o[0],.9*o[0]),-2],width:a},{from:[Q(.1*o[0],.9*o[0]),o[1]+2],width:a}];return e.layers[t]={areas:k(l,n.name).map((function(e){return r&&(c||i)&&(e.edge={texture:r.name,width:[-a*i/200,a*c/200]}),e})),type:"river"},e},G=function(e,t,a,n,r,c,i,o,l){var s,d,g=e.size,h=null===(s=Object.values(e.layers).find((function(e){return"river"===e.type})))||void 0===s||null===(d=s.areas)||void 0===d?void 0:d[0],j=[{from:[-2,Q(.1*g[1],.9*g[1])],width:a},{from:[g[0]+2,Q(.1*g[1],.9*g[1])],width:a}],A=n.map((function(e){return{from:J(g),width:e}}));return e.layers[t]={areas:k([].concat(j,Object(u.a)(A)),r.name,null===c||void 0===c?void 0:c.name,h).map((function(e){return i&&(o||l)&&(e.edge={texture:i.name,width:[-a*l/200,a*o/200]}),e})),type:"road"},e},L=function(e,t,a,n){var r,c,i=null!==(r=null===(c=e.layers[t])||void 0===c?void 0:c.objects)&&void 0!==r?r:[],o=Object.values(e.layers).filter((function(e){return"road"===e.type||"river"===e.type})).flatMap((function(e){var t;return null!==(t=e.areas)&&void 0!==t?t:[]})),l=U(e.size,i,a,n.height,n.radius,n.name,o);return e.layers[t]={objects:i.concat(l),type:"object"},e},N=a.p+"static/media/gravel.fadd9e77.jpg",M=a.p+"static/media/grass.1bdb8368.jpg",Y=a.p+"static/media/tree.251e1382.png",H=a.p+"static/media/tree2.b70d7e22.png",T=a.p+"static/media/rock.f8863753.png",z=a.p+"static/media/dirtroad.3f84b32a.jpg",W=a.p+"static/media/lightergrass.775fd4e3.jpg",V=a.p+"static/media/water.5bcc6117.jpg",Z=a.p+"static/media/bridge.01e94610.png",P=a.p+"static/media/bridge2.c503a7ba.png",q=a.p+"static/media/soil.9c952be7.jpg",X=a.p+"static/media/moss.7486eee9.jpg",$=a.p+"static/media/snow.cdc2b6b3.jpg",_=a.p+"static/media/coarse-snow.b9df7fb0.jpg",ee=a.p+"static/media/ice.6cad5e0a.jpg",te=a.p+"static/media/partial-snow.636ffd6a.jpg",ae=a.p+"static/media/snow-dirty.5dca186d.jpg",ne=a.p+"static/media/snow-road.04dd554c.jpg",re=a.p+"static/media/snowy-pine.cbda0139.png",ce=a.p+"static/media/stump.5b4a461a.png",ie=a.p+"static/media/trunk.9be993ac.png",oe=a(1),le={sunset:"rgba(230,120,0,0.15)",evening:"rgba(0,0,250,0.2)",night:"rgba(0,0,250,0.3)"},se=[{name:"water",url:V,type:"pattern",scale:1,category:"river",height:0,radius:0},{name:"green water",url:"data:image/jpeg;base64,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",type:"pattern",scale:2,category:"river",height:0,radius:0},{name:"ice",url:ee,type:"pattern",scale:2,category:"river",height:0,radius:0},{name:"bridge",url:Z,type:"pattern",scale:1,category:"bridge",height:0,radius:0},{name:"straight bridge",url:P,type:"pattern",scale:1,category:"bridge",height:0,radius:0},{name:"gravel",url:N,type:"pattern",scale:1,category:"road",height:0,radius:0},{name:"dirt",url:z,type:"pattern",scale:1,category:"road",height:0,radius:0},{name:"grass",url:M,type:"pattern",scale:3,category:"ground",height:0,radius:0},{name:"snow",url:$,type:"pattern",scale:3,category:"ground",height:0,radius:0},{name:"drifting snow",url:"data:image/jpeg;base64,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",type:"pattern",scale:3,category:"ground",height:0,radius:0},{name:"snowy road",url:ne,type:"pattern",scale:3,category:"road",height:0,radius:0},{name:"dirty snow",url:ae,type:"pattern",scale:3,category:"ground",height:0,radius:0},{name:"partial snow",url:te,type:"pattern",scale:3,category:"ground",height:0,radius:0},{name:"snow bank",url:_,type:"pattern",scale:2.3,category:"road-edge",height:0,radius:0,alphaMultiplier:.5},{name:"lighter grass",url:W,type:"pattern",scale:1,category:"ground",height:0,radius:0},{name:"soil",url:q,type:"pattern",scale:1,category:"river-edge",height:0,radius:0,alphaMultiplier:.7},{name:"moss",url:X,type:"pattern",scale:1,category:"road-edge",height:0,radius:0,alphaMultiplier:.3},{name:"tree",url:Y,type:"single",scale:2,category:"tree",height:8,radius:1},{name:"snowy pine",url:re,type:"single",scale:2,category:"tree",height:20,radius:1},{name:"bigtree",url:Y,type:"single",scale:4,category:"tree",height:16,radius:2},{name:"other tree",url:H,type:"single",scale:3,category:"tree",height:12,radius:1.5},{name:"rock",url:T,type:"single",scale:.3,category:"rock",height:2,radius:.25},{name:"tree stump",url:ce,type:"single",scale:.6,category:"tree",height:5,radius:.5},{name:"fallen tree trunk",url:ie,type:"single",scale:1.6,category:"tree",height:4,radius:.8}],ue=function(){var e=Object(d.a)(l.a.mark((function e(t,a){var n,r,c,i,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new OffscreenCanvas(t.naturalWidth,t.naturalHeight),(r=n.getContext("2d")).drawImage(t,0,0),c=r.getImageData(0,0,t.naturalWidth,t.naturalHeight),i=3;i<c.data.length;i+=4)c.data.set([c.data[i]*a],i);return r.putImageData(c,0,0),o=new Image,e.next=9,n.convertToBlob({type:"image/png"});case 9:return s=e.sent,o.src=URL.createObjectURL(s),e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(e){var t=e.onLoaded,a=Object(n.useReducer)((function(e,t){return e+1}),0),r=Object(h.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){c===se.length&&Object(d.a)(l.a.mark((function e(){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0;case 2:if(!(n<se.length)){e.next=13;break}if(r=se[n],c=document.getElementById(r.name),void 0===r.alphaMultiplier){e.next=9;break}return e.next=8,ue(c,r.alphaMultiplier);case 8:c=e.sent;case 9:a.push(Object(g.a)(Object(g.a)({},r),{},{loadedImage:c}));case 10:n++,e.next=2;break;case 13:t(a);case 14:case"end":return e.stop()}}),e)})))()}),[c,t]),Object(oe.jsx)(oe.Fragment,{children:se.map((function(e){return Object(oe.jsx)("img",{src:e.url,id:e.name,style:{display:"none"},alt:"",onLoad:i},e.name)}))})},ge=a(154),he=a(155),je=a(156),Ae=a(169),pe=a(150),be=a(160),me=a(171),Oe=a(172),xe=a(173),ve=a(174),fe=function(e){var t=e.title,a=e.enabled,n=e.blocks,r=e.titleContent;return Object(oe.jsxs)(be.a,{disabled:!a,children:[Object(oe.jsx)(me.a,{sx:{bgcolor:"grey.200"},expandIcon:Object(oe.jsx)(pe.a,{}),children:Object(oe.jsxs)(Oe.a,{children:[t," ",r]})}),Object(oe.jsx)(xe.a,{sx:{bgcolor:"grey.50"},children:n.map((function(e){return Object(oe.jsxs)(ve.a,{sx:{m:1},children:[e.title&&Object(oe.jsx)(Oe.a,{children:e.title}),Object(oe.jsx)(ve.a,{sx:{borderTop:e.title?1:0,pt:e.title?1:0},children:e.content})]})}))})]},t)},we=a(175),Ce=a(161),Se=function(e){var t=e.value,a=e.min,n=e.max,r=e.step,c=e.label,i=e.width,o=void 0===i?90:i,l=e.onChange;return Object(oe.jsx)(we.a,{sx:{width:"".concat(o,"%")},label:c,labelPlacement:"top",control:Object(oe.jsx)(Ce.a,{value:t,valueLabelDisplay:"auto",min:a,max:n,step:r,marks:!!r,onChange:function(e,t){return l(t)}})})},Qe=a(176),ye=a(165),Ee=a(158),De=a(162),ke=function(e){var t=e.textures,a=e.type,n=e.category,r=e.label,c=e.value,i=e.width,o=void 0===i?90:i,l=e.onChange,s=function(e){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("img",{alt:"Texture: ".concat(e),style:{height:"1.5rem",marginRight:"0.2rem"},src:t[e].url}),e]})};return Object(oe.jsxs)(Qe.a,{sx:{width:"".concat(o,"%")},children:[Object(oe.jsx)(ye.a,{children:r}),Object(oe.jsxs)(Ee.a,{value:c,onChange:function(e){return l(e.target.value)},label:r,displayEmpty:!0,renderValue:function(e){return e?s(e):r},autoWidth:!0,children:[Object(oe.jsx)(De.a,{value:"",children:"None"}),Object.keys(t).filter((function(e){return t[e].type===a})).filter((function(e){return!n||t[e].category===n})).map((function(e){return Object(oe.jsx)(De.a,{value:e,children:s(e)})}))]})]})},Ie=function(e){var t=e.name,a=e.textures,r=e.generateObjects,c=e.clearLayer,i=e.deleteLayer,o=Object(n.useState)(0),l=Object(h.a)(o,2),s=l[0],u=l[1],d=Object(n.useState)(""),g=Object(h.a)(d,2),j=g[0],A=g[1];return Object(oe.jsx)(fe,{title:"Layer: ".concat(t),enabled:!0,titleContent:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ae.a,{startIcon:Object(oe.jsx)(ge.a,{}),disabled:0===s||""===j,onClick:function(e){r(s,j),e.stopPropagation()},children:"Add"}),Object(oe.jsx)(Ae.a,{startIcon:Object(oe.jsx)(he.a,{}),onClick:function(e){c(),e.stopPropagation()},children:"Clear"}),Object(oe.jsx)(Ae.a,{startIcon:Object(oe.jsx)(je.a,{}),onClick:function(e){i(),e.stopPropagation()},children:"Remove"})]}),blocks:[{content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:40,label:"No. of objects:",value:s,step:1,min:0,max:100,onChange:u}),Object(oe.jsx)(ke,{width:40,label:"Object texture",value:j,textures:null!==a&&void 0!==a?a:{},type:"single",onChange:A})]})}]})},Fe=a(166),Be=a(180),Ue=function(e){var t=e.layers,a=e.onCreate,r=Object(n.useState)(""),c=Object(h.a)(r,2),i=c[0],o=c[1];return Object(oe.jsx)(be.a,{onClick:function(e){return e.stopPropagation()},children:Object(oe.jsx)(me.a,{children:Object(oe.jsx)(Oe.a,{children:Object(oe.jsx)(Fe.a,{variant:"standard",size:"small",label:"Add object layer",value:i,onChange:function(e){return o(e.target.value)},InputProps:{endAdornment:Object(oe.jsx)(Be.a,{position:"end",children:Object(oe.jsx)(Ae.a,{startIcon:Object(oe.jsx)(ge.a,{}),disabled:""===i||t.includes(i),onClick:function(){a(i),o("")},children:"Create"})})}})})})})},Je=a(177),Ke=a(163),Re=a(181),Ge=a(85),Le=function(e){var t=e.items,a=e.itemFactory,n=e.addItem,r=e.removeItem,c=e.name;return Object(oe.jsxs)(Je.a,{children:[Object(Ge.range)(0,t).map((function(e){return Object(oe.jsxs)(Ke.a,{children:[a(e)," ",Object(oe.jsx)(Re.a,{onClick:function(){return r(e)},children:Object(oe.jsx)(je.a,{})})]})})),Object(oe.jsx)(Ke.a,{children:Object(oe.jsx)(Ae.a,{startIcon:Object(oe.jsx)(ge.a,{}),onClick:n,children:"Add ".concat(c)})})]})},Ne=function(e){e.name;var t=e.textures,a=e.generateRoads,r=e.sceneHasRiver,c=Object(n.useState)(0),i=Object(h.a)(c,2),o=i[0],l=i[1],s=Object(n.useState)(""),d=Object(h.a)(s,2),g=d[0],j=d[1],A=Object(n.useState)(""),p=Object(h.a)(A,2),b=p[0],m=p[1],O=Object(n.useState)([]),x=Object(h.a)(O,2),v=x[0],f=x[1],w=Object(n.useState)(""),C=Object(h.a)(w,2),S=C[0],Q=C[1],y=Object(n.useState)(0),E=Object(h.a)(y,2),D=E[0],k=E[1],I=Object(n.useState)(0),F=Object(h.a)(I,2),B=F[0],U=F[1];return Object(oe.jsx)(fe,{title:"Roads",enabled:!0,titleContent:Object(oe.jsx)(Ae.a,{disabled:""===g,onClick:function(e){a(o,v,g,b,S,D,B),e.stopPropagation()},children:"Regenerate"}),blocks:[{content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:30,label:"Main road width",value:o,min:0,max:10,step:.1,onChange:l}),Object(oe.jsx)(ke,{width:30,value:g,label:"Road texture",textures:null!==t&&void 0!==t?t:{},category:"road",type:"pattern",onChange:j}),r&&Object(oe.jsx)(ke,{width:30,value:b,label:"Bridge texture",textures:null!==t&&void 0!==t?t:{},category:"bridge",type:"pattern",onChange:m})]})},{title:"Side roads",content:Object(oe.jsx)(Le,{items:v.length,name:"side road",addItem:function(){f([].concat(Object(u.a)(v),[0]))},removeItem:function(e){v.splice(e,1),f(Object(u.a)(v))},itemFactory:function(e){return Object(oe.jsx)(Se,{label:"Side road width:",value:v[e],min:0,max:10,step:.1,onChange:function(t){v[e]=t,f(Object(u.a)(v))}})}})},{title:"Verge",content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:25,label:"Verge width %",value:D,min:0,max:100,step:1,onChange:k}),Object(oe.jsx)(Se,{width:25,label:"Verge overhang %",value:B,min:0,max:100,step:1,onChange:U}),Object(oe.jsx)(ke,{width:30,value:S,textures:null!==t&&void 0!==t?t:{},type:"pattern",category:"road-edge",onChange:Q,label:"Verge texture"})]})}]})},Me=a(167),Ye=function(e){var t,a=e.scene,n=e.onSceneChanged,r=e.resolution,c=e.onResolutionChange,i=Math.round(10*A(a.shadowVector)),o=Math.round(180*Math.atan2(a.shadowVector[1],a.shadowVector[0])/Math.PI);return Object(oe.jsx)(fe,{title:"Visual tweaks",enabled:!0,blocks:[{content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:25,label:"Edge shade",min:0,max:300,step:5,value:null!==(t=a.edgeShade)&&void 0!==t?t:0,onChange:function(e){a.edgeShade=e,n(a)}}),Object(oe.jsxs)(Ee.a,{sx:{width:"25%"},value:a.tint||"none",onChange:function(e){a.tint=e.target.value,n(a)},children:[Object(oe.jsx)(De.a,{value:"none",children:"no tint"}),Object.keys(le).map((function(e){return Object(oe.jsx)(De.a,{value:le[e],children:e})}))]}),Object(oe.jsx)(we.a,{sx:{width:"$35%"},labelPlacement:"top",control:Object(oe.jsx)(Me.a,{checked:a.grid,onChange:function(){a.grid=!a.grid,n(a)}}),label:"Display grid"}),Object(oe.jsx)(Se,{label:"Pixels per grid",width:35,min:20,max:100,step:5,value:r,onChange:c})]})},{title:"Shadows",content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:40,label:"Shadow length",value:i,min:0,max:50,step:1,onChange:function(e){a.shadowVector=f(e/10,Number(o)*Math.PI/180),n(a)}}),Object(oe.jsx)(Se,{width:40,label:"Shadow direction",step:5,min:-180,max:180,value:o,onChange:function(e){a.shadowVector=f(i/10,e*Math.PI/180),n(a)}})]})}]})},He=function(e){var t=e.textures,a=e.createScene,r=e.load,c=e.save,i=e.render,o=Object(n.useState)(""),s=Object(h.a)(o,2),u=s[0],g=s[1],j=Object(n.useState)(10),A=Object(h.a)(j,2),p=A[0],b=A[1],m=Object(n.useState)(10),O=Object(h.a)(m,2),x=O[0],v=O[1];return Object(oe.jsx)(fe,{title:"Scene (".concat(p," x ").concat(x,")"),titleContent:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Ae.a,{disabled:""===u,onClick:function(e){a([p,x],u),e.stopPropagation()},children:"Create"}),Object(oe.jsx)("input",{accept:"application/json",style:{display:"none"},id:"load-button",type:"file",onChange:function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=JSON,e.next=4,t.target.files[0].text();case 4:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),(0,e.t0)(e.t3);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(oe.jsx)("label",{htmlFor:"load-button",children:Object(oe.jsx)(Ae.a,{component:"span",children:"Load"})}),Object(oe.jsx)(Ae.a,{onClick:c,children:"Save"}),Object(oe.jsx)(Ae.a,{onClick:i,children:"Export JPG"})]}),enabled:!0,blocks:[{title:"Background",content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:25,value:p,min:1,max:50,step:1,onChange:b,label:"Width"}),Object(oe.jsx)(Se,{width:25,value:x,min:1,max:50,step:1,onChange:v,label:"Height"}),Object(oe.jsx)(ke,{width:30,value:u,textures:null!==t&&void 0!==t?t:{},type:"pattern",category:"ground",onChange:g,label:"Ground texture"})]})}]})},Te=function(e){e.name;var t=e.textures,a=e.generateRiver,r=Object(n.useState)(0),c=Object(h.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(""),s=Object(h.a)(l,2),u=s[0],d=s[1],g=Object(n.useState)(""),j=Object(h.a)(g,2),A=j[0],p=j[1],b=Object(n.useState)(0),m=Object(h.a)(b,2),O=m[0],x=m[1],v=Object(n.useState)(0),f=Object(h.a)(v,2),w=f[0],C=f[1];return Object(oe.jsx)(fe,{title:"River",enabled:!0,titleContent:Object(oe.jsx)(Ae.a,{disabled:""===u,onClick:function(e){a(i,u,A,O,w),e.stopPropagation()},children:"Regenerate"}),blocks:[{content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:40,label:"Width",value:i,min:0,max:10,step:.1,onChange:o}),Object(oe.jsx)(ke,{width:40,value:u,textures:null!==t&&void 0!==t?t:{},type:"pattern",category:"river",onChange:d,label:"River texture"})]})},{title:"Riverbank",content:Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(Se,{width:25,label:"Width %",value:O,min:0,max:100,step:1,onChange:x}),Object(oe.jsx)(Se,{width:25,label:"Overhang %",value:w,min:0,max:100,step:1,onChange:C}),Object(oe.jsx)(ke,{width:30,value:A,textures:null!==t&&void 0!==t?t:{},type:"pattern",category:"river-edge",onChange:p,label:"Texture"})]})}]})},ze=a(157),We=a(80),Ve=a.n(We),Ze=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(),a=Object(h.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(K([10,10],"grass")),o=Object(h.a)(i,2),j=o[0],A=o[1],p=Object(n.useState)(70),b=Object(h.a)(p,2),O=b[0],x=b[1],v=Object(n.useState)(!1),f=Object(h.a)(v,2),w=f[0],S=f[1],Q=Object(n.useCallback)((function(e,t,a,n,c,i,o,l){r&&A(Object(g.a)({},G(j,e,t,a,r[n],r[c],r[i],o,l)))}),[j,r]),y=Object(n.useCallback)((function(e,t,a,n,c,i){r&&A(Object(g.a)({},R(j,e,t,r[a],r[n],c,i)))}),[j,r]),E=Object(n.useCallback)((function(e){var t,a,n,r;null===(t=j.layers)||void 0===t||(null===(a=t[e])||void 0===a||delete a.areas),null===(n=j.layers)||void 0===n||(null===(r=n[e])||void 0===r||delete r.objects),A(Object(g.a)({},j))}),[j]),D=Object(n.useCallback)((function(e){var t;null===(t=j.layers)||void 0===t||delete t[e],A(Object(g.a)({},j))}),[j]),k=Object(n.useCallback)((function(e){j.layers[e]={type:"object"},A(Object(g.a)({},j))}),[j]),I=Object(n.useCallback)((function(e,t,a){r&&L(j,e,t,r[a]),A(Object(g.a)({},j))}),[j,r]),F=Object(n.useCallback)((function(e,t){A(K(e,t))}),[]);Object(n.useEffect)((function(){if(r){var t=e.current;if(t){var a=t.getContext("2d");a&&C(a,r,j,w)}}}),[r,j,O,w]);var B=Object(n.useCallback)((function(e){var t=e.reduce((function(e,t){return e[t.name]=t,e}),{});c(t)}),[]),U=Object.values(j.layers).filter((function(e){return"river"===e.type})).some((function(e){return e.areas&&e.areas.length>0}));return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(de,{onLoaded:B}),Object(oe.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(oe.jsxs)(ze.a,{spacing:1,children:[Object(oe.jsx)(He,{textures:null!==r&&void 0!==r?r:{},createScene:F,load:function(e){return A(e)},save:function(){return Ve()(JSON.stringify(j),"scene (".concat(j.size[0]," x ").concat(j.size[1],").json"),"text/json")},render:Object(d.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return t=Object(s.a)(OffscreenCanvas,Object(u.a)(m(j.size,O))),a=t.getContext("2d"),C(a,r,j,!1),e.next=6,t.convertToBlob({type:"image/jpeg",quality:.95});case 6:n=e.sent,Ve()(n,"scene (".concat(j.size[0]," x ").concat(j.size[1],").jpg"),"image/jpeg");case 8:case"end":return e.stop()}}),e)})))}),Object(oe.jsx)(Te,{name:"river",textures:null!==r&&void 0!==r?r:{},generateRiver:y.bind(null,"river")}),Object(oe.jsx)(Ne,{name:"road",sceneHasRiver:U,textures:null!==r&&void 0!==r?r:{},generateRoads:Q.bind(null,"road")}),Object.keys(j.layers).filter((function(e){return"object"===j.layers[e].type})).map((function(e){return Object(oe.jsx)(Ie,{name:e,textures:null!==r&&void 0!==r?r:{},generateObjects:function(t,a){return I(e,t,a)},clearLayer:function(){return E(e)},deleteLayer:function(){return D(e)}})})),Object(oe.jsx)(Ue,{layers:Object.keys(j.layers),onCreate:k}),Object(oe.jsx)(Ye,{scene:j,resolution:O,onResolutionChange:x,onSceneChanged:function(e){return A(Object(g.a)({},e))}}),Object(oe.jsx)(ve.a,{sx:{boxShadow:3},children:Object(oe.jsx)(we.a,{control:Object(oe.jsx)(Me.a,{checked:w,onChange:function(){return S(!w)}}),label:"Debug mode"})})]}),Object(oe.jsx)("canvas",{style:{width:"".concat(j.size[0]*O,"px"),height:"".concat(j.size[1]*O,"px")},ref:e,width:"".concat(j.size[0]*O,"px"),height:"".concat(j.size[1]*O,"px")})]})]})};var Pe=function(){return Object(oe.jsx)("div",{className:"App",children:Object(oe.jsx)(Ze,{})})},qe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,183)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(Pe,{})}),document.getElementById("root")),qe()}},[[110,1,2]]]);
//# sourceMappingURL=main.beb41e83.chunk.js.map