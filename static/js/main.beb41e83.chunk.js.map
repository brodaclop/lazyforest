{"version":3,"sources":["Scene.tsx","Vector.tsx","ShapeDrawer.tsx","Random.tsx","generators/Road.tsx","generators/SceneObjects.tsx","SceneGenerator.tsx","textures/gravel.jpg","textures/grass.jpg","textures/tree.png","textures/tree2.png","textures/rock.png","textures/dirtroad.jpg","textures/lightergrass.jpg","textures/water.jpg","textures/bridge.png","textures/bridge2.png","textures/soil.jpg","textures/moss.jpg","textures/snow.jpg","textures/coarse-snow.jpg","textures/ice.jpg","textures/partial-snow.jpg","textures/snow-dirty.jpg","textures/snow-road.jpg","textures/snowy-pine.png","textures/stump.png","textures/trunk.png","Textures.tsx","textures/green-water.jpg","textures/snow-bumpy.jpg","DefinitionCard.tsx","NumberInput.tsx","TextureSelector.tsx","ObjectLayerCard.tsx","CreateLayerCard.tsx","ListComponent.tsx","RoadLayerCard.tsx","VisualsCard.tsx","BaseLayerCard.tsx","RiverLayerCard.tsx","Canvas.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["LAYER_TYPES","lineLength","from","to","Math","sqrt","normalize","vector","len","lineNormal","stretch","length","add","origin","subtract","invert","fromPolar","magnitude","dir","cos","sin","intersection","a","b","vectorA","vectorB","diff","ua_t","ub_t","u_b","ua","ub","window","test","drawScene","context","textures","scene","debug","globalScale","canvas","width","size","height","reset","setTransform","DOMMatrix","shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur","fillStyle","strokeStyle","scale","drawPath","vertices","beginPath","moveTo","slice","forEach","vertex","lineTo","closePath","sceneArea","shape","texture","edgeShade","translate","stretchWidth","stretchHeight","angle","atan2","rotate","imageScale","loadedImage","drawImage","save","createPattern","fill","restore","edge","edgeTexture","edgeScale","area","ret","i","p0","p1","p2","normal1","normal2","normal","push","splice","borderArea","lineWidth","stroke","sceneObject","shadowDirection","naturalWidth","naturalHeight","orientation","shadowVector","point","style","arc","PI","debugPoint","radius","clearRect","Object","values","layers","sort","l1","l2","indexOf","type","layer","areas","objects","ob","tint","fillRect","grid","x","y","randomInt","max","floor","random","randomBetween","splitLine","splitRatio","lineVector","relative","splitPoint","perturbation","createRectangle","widthAdjustment","centerline","topLine","map","bottomLine","reverse","generateRoad","bridgeTexture","river","intersectionPoints","line","fraction","intersect","bridge1","bridge2","idx","split","Road","endpoints","midpoint","reduce","acc","curr","flatMap","ep","placeObject","dim","avoid","tries","tried","candidate","every","spreadObjects","count","newPoint","concat","console","warn","inShapeFactory","OffscreenCanvas","getContext","path","Path2D","isPointInPath","SceneObjects","exclude","shapeChecker","filter","sc","randomEdgePoint","side","chosenDim","pos","Error","SceneGenerator","baseTexture","base","mainWidth","bankTexture","bankPercentage","bankOverhang","mainEndpoints","name","sideRoads","vergeTexture","vergePercentage","vergeOverhang","find","extraEndpoints","currentObjects","excludeAreas","newObjects","TINTS","sunset","evening","night","TEXTURES","url","water","category","ice","bridge","gravel","dirt","grass","snow","snowRoad","snowDirty","partialSnow","coarseSnow","alphaMultiplier","lighterGrass","soil","moss","tree","snowyPine","tree2","rock","stump","trunk","makeImageTransparent","image","offscreen","osContext","imageData","getImageData","data","set","putImageData","output","Image","convertToBlob","blob","src","URL","createObjectURL","Textures","onLoaded","useReducer","prevstate","action","imagesLoaded","imageLoaded","useEffect","loaded","t","document","getElementById","undefined","id","display","alt","onLoad","DefinitionCard","title","enabled","blocks","titleContent","Accordion","disabled","AccordionSummary","sx","bgcolor","expandIcon","ExpandMore","Typography","AccordionDetails","block","Box","m","borderTop","pt","content","NumberInput","value","min","step","label","onChange","FormControlLabel","labelPlacement","control","Slider","valueLabelDisplay","marks","_","TextureSelector","renderValue","marginRight","FormControl","InputLabel","Select","e","target","displayEmpty","selected","autoWidth","MenuItem","keys","ObjectLayerCard","generateObjects","clearLayer","deleteLayer","useState","setCount","setTexture","Button","startIcon","Add","onClick","stopPropagation","ClearAll","Delete","CreateLayerCard","onCreate","setName","TextField","variant","InputProps","endAdornment","InputAdornment","position","includes","ListComponent","items","itemFactory","addItem","removeItem","List","range","index","ListItem","IconButton","RoadLayerCard","generateRoads","sceneHasRiver","setMainWidth","setBridgeTexture","setSideRoads","setVergeTexture","setVergePercentage","setVergeOverhang","VisualsCard","onSceneChanged","resolution","onResolutionChange","shadowLength","round","shadowAngle","Switch","checked","Number","BaseLayerCard","createScene","load","render","setWidth","setHeight","accept","JSON","files","text","parse","htmlFor","component","RiverLayerCard","generateRiver","setBankTexture","setBankPercentage","setBankOverhang","Canvas","canvasRef","useRef","setTeztures","setScene","setResolution","setDebug","regenerateRoads","useCallback","regenerateRiver","removeLayer","createLayer","dimension","current","onTexturesLoaded","textureMap","some","Stack","spacing","fileDownload","stringify","quality","bind","boxShadow","ref","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.beb41e83.chunk.js","sourcesContent":["import { Point } from \"./Vector\";\r\n\r\nexport interface SceneObject {\r\n    origin: Point;\r\n    orientation: number;\r\n    radius: number;\r\n    height: number;\r\n    texture: string;\r\n}\r\n\r\nexport interface SceneArea {\r\n    vertices: Array<Point>;\r\n    texture: string;\r\n    stretch?: boolean;\r\n    edge?: {\r\n        texture: string;\r\n        width: [number, number];\r\n    }\r\n}\r\n\r\n\r\nexport interface Scene {\r\n    size: Point;\r\n    layers: Record<string, SceneLayer>;\r\n    shadowVector: Point;\r\n    tint?: string;\r\n    edgeShade?: number;\r\n    grid?: boolean;\r\n}\r\n\r\ntype LayerType = 'base' | 'river' | 'road' | 'object';\r\n\r\nexport const LAYER_TYPES: Array<LayerType> = ['base', 'river', 'road', 'object'];\r\nexport interface SceneLayer {\r\n    type: LayerType;\r\n    areas?: Array<SceneArea>;\r\n    objects?: Array<SceneObject>;\r\n}\r\n\r\n\r\n\r\n","export type Point = [number, number];\r\n\r\nexport const lineLength = (from: Point, to: Point = [0, 0]): number => Math.sqrt((from[0] - to[0]) * (from[0] - to[0]) + (from[1] - to[1]) * (from[1] - to[1]));\r\n\r\nexport const normalize = (vector: Point): Point => {\r\n    const len = lineLength([0, 0], vector);\r\n    return [vector[0] / len, vector[1] / len];\r\n}\r\n\r\nexport const lineNormal = (from: Point, to: Point): Point => normalize([from[1] - to[1], to[0] - from[0]]);\r\n\r\nexport const stretch = (vector: Point, length: number): Point => [vector[0] * length, vector[1] * length];\r\n\r\nexport const add = (origin: Point, vector: Point): Point => [origin[0] + vector[0], origin[1] + vector[1]];\r\n\r\nexport const subtract = (origin: Point, vector: Point): Point => [origin[0] - vector[0], origin[1] - vector[1]];\r\n\r\nexport const relative = (origin: Point, to: Point): Point => [to[0] - origin[0], to[1] - origin[1]];\r\n\r\nexport const invert = (vector: Point): Point => [-vector[0], -vector[1]];\r\n\r\nexport const fromPolar = (magnitude: number, dir: number): Point => [Math.cos(dir) * magnitude, Math.sin(dir) * magnitude];\r\n\r\nexport const dot = (one: Point, other: Point): number => one[0] * other[0] + one[1] * other[1];\r\n\r\nexport const intersection = (a: [Point, Point], b: [Point, Point]): number | null => {\r\n\r\n    const vectorA = subtract(a[1], a[0]);\r\n    const vectorB = subtract(b[1], b[0]);\r\n    const diff = subtract(a[0], b[0]);\r\n\r\n    const ua_t = vectorB[0] * diff[1] - vectorB[1] * diff[0];\r\n    const ub_t = vectorA[0] * diff[1] - vectorA[1] * diff[0];\r\n    var u_b = vectorB[1] * vectorA[0] - vectorB[0] * vectorA[1];\r\n\r\n    if (u_b !== 0) {\r\n        const ua = ua_t / u_b;\r\n        const ub = ub_t / u_b;\r\n\r\n        if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\r\n            return ua;\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\ndeclare const window: any;\r\n\r\nwindow.test = intersection;","import { LAYER_TYPES, Scene, SceneArea, SceneObject } from \"./Scene\";\r\nimport { Texture } from \"./Textures\";\r\nimport { add, lineLength, lineNormal, normalize, Point, stretch, subtract } from \"./Vector\";\r\nexport const drawScene = (context: CanvasRenderingContext2D, textures: Record<string, Texture>, scene: Scene, debug?: boolean) => {\r\n\r\n    const globalScale: Point = [context.canvas.width / scene.size[0], context.canvas.height / scene.size[1]];\r\n\r\n    const borderArea = (area: SceneArea): Array<Point> => {\r\n        const ret: Array<Point> = [];\r\n        for (let i = 0; i < area.vertices.length; i++) {\r\n            const p0 = area.vertices[(i + area.vertices.length - 1) % area.vertices.length];\r\n            const p1 = area.vertices[i];\r\n            const p2 = area.vertices[(i + 1) % area.vertices.length];\r\n            const normal1 = lineNormal(p1, p2);\r\n            const normal2 = lineNormal(p0, p1);\r\n            const normal = normalize(add(normal1, normal2));\r\n            ret.push(add(p1, stretch(normal, area.edge?.width[0] ?? 0)));\r\n        }\r\n        for (let i = area.vertices.length - 1; i >= 0; i--) {\r\n            const p0 = area.vertices[(i + area.vertices.length - 1) % area.vertices.length];\r\n            const p1 = area.vertices[i];\r\n            const p2 = area.vertices[(i + 1) % area.vertices.length];\r\n            const normal1 = lineNormal(p1, p2);\r\n            const normal2 = lineNormal(p0, p1);\r\n            const normal = normalize(add(normal1, normal2));\r\n            ret.push(add(p1, stretch(normal, area.edge?.width[1] ?? 0)));\r\n        }\r\n        ret.splice(area.vertices.length, 0, ret[0], ret[ret.length - 1]);\r\n        return ret;\r\n    }\r\n\r\n    const reset = () => {\r\n        context.setTransform(new DOMMatrix());\r\n        context.shadowOffsetX = 0;\r\n        context.shadowOffsetY = 0;\r\n        context.shadowColor = '';\r\n        context.shadowBlur = 0;\r\n        context.fillStyle = '';\r\n        context.strokeStyle = '';\r\n        context.scale(...globalScale);\r\n    }\r\n\r\n    const debugPoint = (point: Point, style: string = '#0ff') => {\r\n        reset();\r\n        context.beginPath();\r\n        context.moveTo(...point);\r\n        context.strokeStyle = style;\r\n        context.fillStyle = style;\r\n        context.arc(...point, 2 / globalScale[0], 0, 2 * Math.PI);\r\n        context.fill();\r\n        context.closePath();\r\n    }\r\n\r\n    const drawPath = (vertices: Array<Point>): void => {\r\n        context.beginPath();\r\n        context.moveTo(...vertices[0]);\r\n        vertices.slice(1).forEach(vertex => {\r\n            context.lineTo(...vertex);\r\n        });\r\n        context.closePath();\r\n    }\r\n\r\n    const sceneArea = (shape: SceneArea) => {\r\n        reset();\r\n\r\n        const texture = textures[shape.texture];\r\n\r\n        drawPath(shape.vertices);\r\n\r\n\r\n        //edge shade\r\n        context.shadowColor = 'rgba(30, 30, 30, .5)';\r\n        context.shadowOffsetX = 0;\r\n        context.shadowOffsetY = 0;\r\n        context.shadowBlur = scene.edgeShade ?? 0;\r\n\r\n        if (shape.stretch) {\r\n            context.translate(...shape.vertices[0]);\r\n\r\n            const vector: Point = subtract(shape.vertices[1], shape.vertices[0]);\r\n\r\n            const stretchWidth = lineLength(vector);\r\n            const stretchHeight = lineLength(subtract(shape.vertices[2], shape.vertices[1]));\r\n\r\n            const angle = Math.atan2(vector[1], vector[0]);\r\n            context.rotate(angle);\r\n\r\n            const imageScale: Point = [texture.scale / texture.loadedImage.width, texture.scale / texture.loadedImage.height];\r\n            //const imageScale: Point = [textureScale / Math.max(texture.loadedImage.width, texture.loadedImage.height), textureScale / Math.max(texture.loadedImage.width, texture.loadedImage.height)];\r\n            context.scale(...imageScale);\r\n            context.scale(stretchWidth, stretchHeight);\r\n            context.scale(1.2, 1.2)\r\n            context.drawImage(texture.loadedImage, - texture.loadedImage.width / 10, - texture.loadedImage.height / 10);\r\n        } else {\r\n            const imageScale: Point = [texture.scale / texture.loadedImage.width, texture.scale / texture.loadedImage.height];\r\n            context.save();\r\n            context.scale(...imageScale);\r\n\r\n            context.fillStyle = context.createPattern(texture.loadedImage, 'repeat') || '#c0c';\r\n            context.fill();\r\n            context.restore();\r\n\r\n            if (shape.edge) {\r\n                const edgeTexture = textures[shape.edge.texture];\r\n                const edgeScale: Point = [edgeTexture.scale / edgeTexture.loadedImage.width, edgeTexture.scale / edgeTexture.loadedImage.height];\r\n                drawPath(borderArea(shape));\r\n                context.scale(...edgeScale);\r\n                context.fillStyle = context.createPattern(edgeTexture.loadedImage, 'repeat') || '#c0c';\r\n                context.fill();\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n        if (debug) {\r\n            context.strokeStyle = 'rgba(255, 255, 0, 1)';\r\n            context.lineWidth = 20;\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    const sceneObject = (shape: SceneObject, shadowDirection: Point) => {\r\n        reset();\r\n        const texture = textures[shape.texture];\r\n\r\n        context.moveTo(...shape.origin);\r\n\r\n        context.translate(...shape.origin);\r\n\r\n        const imageScale: Point = [texture.scale / texture.loadedImage.naturalWidth, texture.scale / texture.loadedImage.naturalHeight];\r\n\r\n        context.scale(...imageScale);\r\n        context.rotate(shape.orientation);\r\n\r\n        //TODO: debug why this fucks up everything\r\n        // context.fillStyle = '#cfc';\r\n        // context.fill();\r\n\r\n        const shadowVector = stretch(shadowDirection, shape.height ?? 0);\r\n        context.shadowColor = 'rgba(30, 30, 30, .8)';\r\n        context.shadowOffsetX = shadowVector[0];\r\n        context.shadowOffsetY = shadowVector[1];\r\n        context.shadowBlur = 2;\r\n\r\n        context.drawImage(texture.loadedImage, -texture.loadedImage.naturalWidth / 2, -texture.loadedImage.naturalHeight / 2);\r\n\r\n        if (debug) {\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            // fix this\r\n            // context.fillStyle = 'rgba(0, 0, 255, .2)';\r\n            // context.fillRect(-1 / 2, -1 / 2, 1, 1);\r\n            debugPoint(shape.origin);\r\n            context.arc(...shape.origin, shape.radius, 0, Math.PI * 2);\r\n            context.fillStyle = 'rgba(255, 0, 0, .5)';\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n\r\n    const drawScene = () => {\r\n        context.clearRect(0, 0, context.canvas.width, context.canvas.height);\r\n        Object.values(scene.layers).sort((l1, l2) => LAYER_TYPES.indexOf(l1.type) - LAYER_TYPES.indexOf(l2.type)).forEach(layer => {\r\n            layer.areas?.sort((a, b) => (a.stretch ? 1 : 0) - (b.stretch ? 1 : 0)).forEach(sceneArea);\r\n            layer.objects?.sort((a, b) => a.height - b.height).forEach(ob => sceneObject(ob, scene.shadowVector));\r\n        });\r\n        if (scene.tint && scene.tint !== 'none') {\r\n            reset();\r\n            context.fillStyle = scene.tint;\r\n            context.setTransform(new DOMMatrix());\r\n            context.fillRect(0, 0, context.canvas.width, context.canvas.height);\r\n        }\r\n        reset();\r\n        context.setTransform(new DOMMatrix());\r\n        if (scene.grid) {\r\n            context.beginPath();\r\n            for (let x = 0; x < scene.size[0]; x++) {\r\n                context.moveTo(globalScale[0] * x, 0);\r\n                context.lineTo(globalScale[0] * x, context.canvas.height);\r\n            }\r\n            for (let y = 0; y < scene.size[1]; y++) {\r\n                context.moveTo(0, y * globalScale[1]);\r\n                context.lineTo(context.canvas.width, y * globalScale[1]);\r\n            }\r\n            context.strokeStyle = 'black';\r\n            context.lineWidth = 1;\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    drawScene();\r\n}","export const randomInt = (max: number) => {\r\n    return Math.floor(Math.random() * max);\r\n}\r\n\r\nexport const randomPlusMinus = (max: number) => {\r\n    return randomBetween(-max, max);\r\n}\r\n\r\nexport const randomBetween = (from: number, to: number) => {\r\n    return from + Math.random() * (to - from);\r\n}","import { randomBetween, randomInt, randomPlusMinus } from \"../Random\";\r\nimport { SceneArea } from \"../Scene\";\r\nimport { Point, lineLength, lineNormal, add, stretch, invert, relative, intersection, subtract } from \"../Vector\";\r\n\r\nconst SPLIT_MIN = 0.2;\r\nconst SPLIT_MAX = 0.8;\r\nconst BENDINESS = 1 / 10;\r\nconst SPLITS = 1000;\r\nconst MINIMUM_SPLIT_LENGTH = 0.01;\r\n\r\nconst splitLine = (from: Point, to: Point): Point | null => {\r\n    const splitRatio = randomBetween(SPLIT_MIN, SPLIT_MAX);\r\n    const length = lineLength(from, to);\r\n    if (length < MINIMUM_SPLIT_LENGTH) {\r\n        return null;\r\n    }\r\n    const lineVector = relative(from, to);\r\n    const splitPoint = add(from, stretch(lineVector, splitRatio));\r\n\r\n    const normal = lineNormal(from, to);\r\n    const perturbation = stretch(normal, randomPlusMinus(length * BENDINESS));\r\n\r\n    return add(splitPoint, perturbation);\r\n}\r\n\r\nconst intersect = (line: [Point, Point], area: SceneArea): Array<number> => {\r\n    const ret: Array<number> = [];\r\n    for (let i = 0; i < area.vertices.length; i++) {\r\n        const p1 = area.vertices[i];\r\n        const p2 = area.vertices[(i + 1) % area.vertices.length];\r\n        const fraction = intersection(line, [p1, p2]);\r\n        if (fraction !== null) {\r\n            ret.push(fraction);\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nconst createRectangle = (from: Point, to: Point, width: number, texture: string): SceneArea => {\r\n    const widthAdjustment = stretch(lineNormal(from, to), width / 2);\r\n    const centerline: Array<Point> = [from, to];\r\n    const topLine: Array<Point> = centerline.map(vertex => add(vertex, invert(widthAdjustment)));\r\n    const bottomLine: Array<Point> = centerline.reverse().map(vertex => add(vertex, widthAdjustment));\r\n    return {\r\n        vertices: [...topLine, ...bottomLine],\r\n        texture,\r\n        stretch: true\r\n    };\r\n}\r\n\r\nconst generateRoad = (from: Point, to: Point, width: number, texture: string, bridgeTexture?: string, river?: SceneArea): Array<SceneArea> => {\r\n    const widthAdjustment = stretch(lineNormal(from, to), width / 2);\r\n\r\n    const centerline: Array<Point> = [from, to];\r\n\r\n    if (river && bridgeTexture) {\r\n        const intersectionPoints = intersect(centerline as [Point, Point], river);\r\n        intersectionPoints.sort((a, b) => a - b);\r\n        if (intersectionPoints.length === 2) {\r\n            const bridge1 = add(from, stretch(subtract(to, from), intersectionPoints[0]));\r\n            const bridge2 = add(from, stretch(subtract(to, from), intersectionPoints[1]));\r\n            return [\r\n                ...generateRoad(from, bridge1, width, texture),\r\n                ...generateRoad(bridge2, to, width, texture),\r\n                createRectangle(bridge1, bridge2, width, bridgeTexture)\r\n            ];\r\n        }\r\n    }\r\n\r\n    for (let i = 0; i < SPLITS; i++) {\r\n        const idx = randomInt(centerline.length - 1) + 1;\r\n        const split = splitLine(centerline[idx - 1], centerline[idx]);\r\n        if (split) {\r\n            centerline.splice(idx, 0, split);\r\n        }\r\n    }\r\n\r\n    const topLine: Array<Point> = centerline.map(vertex => add(vertex, invert(widthAdjustment)));\r\n    const bottomLine: Array<Point> = centerline.reverse().map(vertex => add(vertex, widthAdjustment));\r\n    return [{\r\n        vertices: [...topLine, ...bottomLine],\r\n        texture\r\n    }];\r\n}\r\n\r\nconst generateRoads = (endpoints: Array<{ from: Point, width: number }>, texture: string, bridgeTexture?: string, river?: SceneArea): Array<SceneArea> => {\r\n    if (endpoints.length > 2) {\r\n        const midpoint = endpoints.reduce((acc, curr) => [acc[0] + curr.from[0] / endpoints.length, acc[1] + curr.from[1] / endpoints.length] as Point, [0, 0] as Point);\r\n        return endpoints.flatMap(ep => generateRoad(ep.from, midpoint, ep.width, texture, bridgeTexture, river));\r\n    } else {\r\n        return generateRoad(endpoints[0].from, endpoints[1].from, endpoints[0].width, texture, bridgeTexture, river);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const Road = {\r\n    generate: generateRoads,\r\n}\r\n\r\n\r\n","import { randomBetween } from \"../Random\";\r\nimport { SceneArea, SceneObject } from \"../Scene\";\r\nimport { Point, lineLength } from \"../Vector\";\r\n\r\ndeclare const OffscreenCanvas: any;\r\n\r\nconst MAX_TRIES = 1000;\r\n\r\nconst placeObject = (dim: Point, avoid: Array<SceneObject>, radius: number, tries: number): Point | null => {\r\n    let tried = 0;\r\n    while (tried++ < tries) {\r\n        const candidate: Point = [randomBetween(0, dim[0]), randomBetween(0, dim[1])];\r\n        const farEnough = avoid.every(ob => lineLength(ob.origin, candidate) > radius + ob.radius);\r\n        if (farEnough) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nconst spreadObjects = (dim: Point, avoid: Array<SceneObject>, count: number, height: number, radius: number, texture: string): Array<SceneObject> => {\r\n\r\n    let ret: Array<SceneObject> = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n        const newPoint = placeObject(dim, ret.concat(avoid), radius, MAX_TRIES);\r\n        if (newPoint === null) {\r\n            console.warn(`stopped object generation at ${i}, too many tries`);\r\n            break;\r\n        }\r\n        ret.push({\r\n            origin: newPoint,\r\n            orientation: randomBetween(0, 2 * Math.PI),\r\n            height,\r\n            radius,\r\n            texture\r\n        });\r\n    }\r\n    return ret;\r\n}\r\n\r\nconst inShapeFactory = (shape: SceneArea): ((point: Point) => boolean) => {\r\n\r\n    const canvas = new OffscreenCanvas(1, 1);\r\n    const context = canvas.getContext('2d') as unknown as CanvasRenderingContext2D;\r\n\r\n    const path: Path2D = new Path2D();\r\n    path.moveTo(...shape.vertices[0]);\r\n    shape.vertices.slice(1).forEach(vertex => {\r\n        path.lineTo(...vertex);\r\n    });\r\n    path.closePath();\r\n    return point => context.isPointInPath(path, ...point);\r\n}\r\n\r\nexport const SceneObjects = {\r\n    generate: (dim: Point, avoid: Array<SceneObject>, count: number, height: number, radius: number, texture: string, exclude: Array<SceneArea> = []): Array<SceneObject> => {\r\n        const shapeChecker = exclude.map(inShapeFactory);\r\n\r\n        return spreadObjects(dim, avoid, count, height, radius, texture).filter(ob => shapeChecker.every(sc => !sc(ob.origin)));\r\n    }\r\n\r\n}","import { randomBetween, randomInt } from \"./Random\";\r\nimport { Scene, SceneArea, SceneObject } from \"./Scene\";\r\nimport { Point } from \"./Vector\";\r\nimport { Road } from \"./generators/Road\";\r\nimport { SceneObjects } from \"./generators/SceneObjects\";\r\nimport { Texture } from \"./Textures\";\r\n\r\n\r\nconst ROAD_EDGE_OVERHANG = 2;\r\n\r\nconst randomEdgePoint = (dim: Point): Point => {\r\n    const side = randomInt(4);\r\n    const chosenDim = dim[side % 2]; // width if side is even, height if side is odd;\r\n    const pos = randomBetween(chosenDim * 0.1, chosenDim * 0.9);\r\n\r\n    switch (side) {\r\n        case 0: return [pos, -ROAD_EDGE_OVERHANG];\r\n        case 1: return [dim[0] + ROAD_EDGE_OVERHANG, pos];\r\n        case 2: return [pos, dim[1] + ROAD_EDGE_OVERHANG];\r\n        case 3: return [-ROAD_EDGE_OVERHANG, pos];\r\n        default: throw new Error('randomInt(4) returned a weird value');\r\n    }\r\n}\r\n\r\nexport const SceneGenerator = {\r\n    create: (dim: Point, baseTexture: string): Scene => ({\r\n        layers: {\r\n            base: {\r\n                areas: [{\r\n                    vertices: [[0, 0], [dim[0], 0], dim, [0, dim[1]]],\r\n                    texture: baseTexture,\r\n                }],\r\n                type: 'base'\r\n            },\r\n        },\r\n        shadowVector: [0, 0],\r\n        size: dim\r\n    }),\r\n    river: (scene: Scene, layer: string, mainWidth: number, texture: Texture, bankTexture: Texture, bankPercentage: number, bankOverhang: number): Scene => {\r\n        const dim = scene.size;\r\n\r\n        const mainEndpoints: Array<{ from: Point, width: number }> = [\r\n            { from: [randomBetween(0.1 * dim[0], 0.9 * dim[0]), -ROAD_EDGE_OVERHANG], width: mainWidth },\r\n            { from: [randomBetween(0.1 * dim[0], 0.9 * dim[0]), dim[1] + ROAD_EDGE_OVERHANG], width: mainWidth }\r\n        ];\r\n\r\n        scene.layers[layer] = {\r\n            areas: Road.generate(mainEndpoints, texture.name).map(area => {\r\n                if (bankTexture && (bankPercentage || bankOverhang)) {\r\n                    area.edge = {\r\n                        texture: bankTexture.name,\r\n                        width: [- mainWidth * bankOverhang / 200, mainWidth * bankPercentage / 200],\r\n                    };\r\n                }\r\n                return area;\r\n            }),\r\n            type: 'river'\r\n        };\r\n\r\n        return scene;\r\n    },\r\n    roads: (scene: Scene, layer: string, mainWidth: number, sideRoads: Array<number>, texture: Texture, bridgeTexture: Texture | undefined, vergeTexture: Texture | undefined, vergePercentage: number, vergeOverhang: number): Scene => {\r\n        const dim = scene.size;\r\n\r\n        const river = Object.values(scene.layers).find(layer => layer.type === 'river')?.areas?.[0];\r\n\r\n        let mainEndpoints: Array<{ from: Point, width: number }> = [\r\n            { from: [-ROAD_EDGE_OVERHANG, randomBetween(0.1 * dim[1], 0.9 * dim[1])], width: mainWidth },\r\n            { from: [dim[0] + ROAD_EDGE_OVERHANG, randomBetween(0.1 * dim[1], 0.9 * dim[1])], width: mainWidth }\r\n        ];\r\n\r\n        const extraEndpoints = sideRoads.map(width => ({\r\n            from: randomEdgePoint(dim),\r\n            width: width\r\n        }));\r\n\r\n        scene.layers[layer] = {\r\n            areas: Road.generate([...mainEndpoints, ...extraEndpoints], texture.name,\r\n                bridgeTexture?.name,\r\n                river).map(area => {\r\n                    if (vergeTexture && (vergePercentage || vergeOverhang)) {\r\n                        area.edge = {\r\n                            texture: vergeTexture.name,\r\n                            width: [- mainWidth * vergeOverhang / 200, mainWidth * vergePercentage / 200],\r\n                        };\r\n                    }\r\n                    return area;\r\n                }),\r\n            type: 'road'\r\n        };\r\n\r\n        return scene;\r\n    },\r\n    objects: (scene: Scene, layer: string, count: number, texture: Texture): Scene => {\r\n        const currentObjects: Array<SceneObject> = scene.layers[layer]?.objects ?? [];\r\n        const excludeAreas: Array<SceneArea> = Object.values(scene.layers).filter(layer => layer.type === 'road' || layer.type === 'river').flatMap(layer => layer.areas ?? []);\r\n        const newObjects = SceneObjects.generate(scene.size, currentObjects, count, texture.height, texture.radius, texture.name, excludeAreas);\r\n        scene.layers[layer] = {\r\n            objects: currentObjects.concat(newObjects),\r\n            type: 'object'\r\n        }\r\n        return scene;\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/gravel.fadd9e77.jpg\";","export default __webpack_public_path__ + \"static/media/grass.1bdb8368.jpg\";","export default __webpack_public_path__ + \"static/media/tree.251e1382.png\";","export default __webpack_public_path__ + \"static/media/tree2.b70d7e22.png\";","export default __webpack_public_path__ + \"static/media/rock.f8863753.png\";","export default __webpack_public_path__ + \"static/media/dirtroad.3f84b32a.jpg\";","export default __webpack_public_path__ + \"static/media/lightergrass.775fd4e3.jpg\";","export default __webpack_public_path__ + \"static/media/water.5bcc6117.jpg\";","export default __webpack_public_path__ + \"static/media/bridge.01e94610.png\";","export default __webpack_public_path__ + \"static/media/bridge2.c503a7ba.png\";","export default __webpack_public_path__ + \"static/media/soil.9c952be7.jpg\";","export default __webpack_public_path__ + \"static/media/moss.7486eee9.jpg\";","export default __webpack_public_path__ + \"static/media/snow.cdc2b6b3.jpg\";","export default __webpack_public_path__ + \"static/media/coarse-snow.b9df7fb0.jpg\";","export default __webpack_public_path__ + \"static/media/ice.6cad5e0a.jpg\";","export default __webpack_public_path__ + \"static/media/partial-snow.636ffd6a.jpg\";","export default __webpack_public_path__ + \"static/media/snow-dirty.5dca186d.jpg\";","export default __webpack_public_path__ + \"static/media/snow-road.04dd554c.jpg\";","export default __webpack_public_path__ + \"static/media/snowy-pine.cbda0139.png\";","export default __webpack_public_path__ + \"static/media/stump.5b4a461a.png\";","export default __webpack_public_path__ + \"static/media/trunk.9be993ac.png\";","import React, { useEffect, useReducer } from 'react';\n\nimport gravel from './textures/gravel.jpg';\nimport grass from './textures/grass.jpg';\nimport tree from './textures/tree.png';\nimport tree2 from './textures/tree2.png';\nimport rock from './textures/rock.png';\nimport dirt from './textures/dirtroad.jpg';\nimport lighterGrass from './textures/lightergrass.jpg';\nimport water from './textures/water.jpg';\nimport bridge from './textures/bridge.png';\nimport bridge2 from './textures/bridge2.png';\nimport soil from './textures/soil.jpg';\nimport moss from './textures/moss.jpg';\nimport snow from './textures/snow.jpg';\nimport coarseSnow from './textures/coarse-snow.jpg';\nimport ice from './textures/ice.jpg';\nimport greenWater from './textures/green-water.jpg';\nimport partialSnow from './textures/partial-snow.jpg';\nimport snowDirty from './textures/snow-dirty.jpg';\nimport snowRoad from './textures/snow-road.jpg';\nimport snowyPine from './textures/snowy-pine.png';\nimport stump from './textures/stump.png';\nimport trunk from './textures/trunk.png';\nimport bumpySnow from './textures/snow-bumpy.jpg';\n\nexport interface Texture {\n    name: string;\n    category: TextureCategory;\n    url: string;\n    type: 'single' | 'pattern';\n    scale: number;\n    height: number;\n    radius: number;\n    alphaMultiplier?: number;\n    loadedImage: HTMLImageElement;\n}\n\nexport const TINTS: Record<string, string> = {\n    sunset: 'rgba(230,120,0,0.15)',\n    evening: 'rgba(0,0,250,0.2)',\n    night: 'rgba(0,0,250,0.3)',\n}\n\nexport type TextureCategory = 'ground' | 'river' | 'road' | 'bridge' | 'tree' | 'rock' | 'river-edge' | 'road-edge';\n\nexport const TEXTURES: Array<Omit<Texture, 'loadedImage' | 'transparentImage'>> = [\n    {\n        name: 'water',\n        url: water,\n        type: 'pattern',\n        scale: 1,\n        category: 'river',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'green water',\n        url: greenWater,\n        type: 'pattern',\n        scale: 2,\n        category: 'river',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'ice',\n        url: ice,\n        type: 'pattern',\n        scale: 2,\n        category: 'river',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'bridge',\n        url: bridge,\n        type: 'pattern',\n        scale: 1,\n        category: 'bridge',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'straight bridge',\n        url: bridge2,\n        type: 'pattern',\n        scale: 1,\n        category: 'bridge',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'gravel',\n        url: gravel,\n        type: 'pattern',\n        scale: 1,\n        category: 'road',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'dirt',\n        url: dirt,\n        type: 'pattern',\n        scale: 1,\n        category: 'road',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'grass',\n        url: grass,\n        type: 'pattern',\n        scale: 3,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'snow',\n        url: snow,\n        type: 'pattern',\n        scale: 3,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'drifting snow',\n        url: bumpySnow,\n        type: 'pattern',\n        scale: 3,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'snowy road',\n        url: snowRoad,\n        type: 'pattern',\n        scale: 3,\n        category: 'road',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'dirty snow',\n        url: snowDirty,\n        type: 'pattern',\n        scale: 3,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'partial snow',\n        url: partialSnow,\n        type: 'pattern',\n        scale: 3,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'snow bank',\n        url: coarseSnow,\n        type: 'pattern',\n        scale: 2.3,\n        category: 'road-edge',\n        height: 0,\n        radius: 0,\n        alphaMultiplier: 0.5\n    },\n    {\n        name: 'lighter grass',\n        url: lighterGrass,\n        type: 'pattern',\n        scale: 1,\n        category: 'ground',\n        height: 0,\n        radius: 0,\n    },\n    {\n        name: 'soil',\n        url: soil,\n        type: 'pattern',\n        scale: 1,\n        category: 'river-edge',\n        height: 0,\n        radius: 0,\n        alphaMultiplier: 0.7\n    },\n    {\n        name: 'moss',\n        url: moss,\n        type: 'pattern',\n        scale: 1,\n        category: 'road-edge',\n        height: 0,\n        radius: 0,\n        alphaMultiplier: 0.3\n    },\n    {\n        name: 'tree',\n        url: tree,\n        type: 'single',\n        scale: 2,\n        category: 'tree',\n        height: 8,\n        radius: 1,\n    },\n    {\n        name: 'snowy pine',\n        url: snowyPine,\n        type: 'single',\n        scale: 2,\n        category: 'tree',\n        height: 20,\n        radius: 1,\n    },\n    {\n        name: 'bigtree',\n        url: tree,\n        type: 'single',\n        scale: 4,\n        category: 'tree',\n        height: 16,\n        radius: 2,\n    },\n    {\n        name: 'other tree',\n        url: tree2,\n        type: 'single',\n        scale: 3,\n        category: 'tree',\n        height: 12,\n        radius: 1.5,\n    },\n    {\n        name: 'rock',\n        url: rock,\n        type: 'single',\n        scale: 0.3,\n        category: 'rock',\n        height: 2,\n        radius: 0.25,\n    },\n    {\n        name: 'tree stump',\n        url: stump,\n        type: 'single',\n        scale: 0.6,\n        category: 'tree',\n        height: 5,\n        radius: 0.5,\n    },\n    {\n        name: 'fallen tree trunk',\n        url: trunk,\n        type: 'single',\n        scale: 1.6,\n        category: 'tree',\n        height: 4,\n        radius: 0.8,\n    },\n]\n\ndeclare const OffscreenCanvas: any;\n\nconst makeImageTransparent = async (image: HTMLImageElement, alphaMultiplier: number): Promise<HTMLImageElement> => {\n    const offscreen = new OffscreenCanvas(image.naturalWidth, image.naturalHeight);\n    const osContext = offscreen.getContext('2d') as CanvasRenderingContext2D;\n    osContext.drawImage(image, 0, 0);\n    const imageData = osContext.getImageData(0, 0, image.naturalWidth, image.naturalHeight);\n    for (let i = 3; i < imageData.data.length; i += 4) {\n        imageData.data.set([imageData.data[i] * alphaMultiplier], i);\n    }\n    osContext.putImageData(imageData, 0, 0);\n    const output = new Image();\n\n    const blob = await offscreen.convertToBlob({\n        type: \"image/png\",\n    });\n\n    output.src = URL.createObjectURL(blob); // use toDataURL() to avoid cleanup problems\n    return output;\n}\n\n\nexport const Textures: React.FC<{ onLoaded: (textures: Array<Texture>) => unknown }> = ({ onLoaded }) => {\n\n    const [imagesLoaded, imageLoaded] = useReducer((prevstate: number, action: {}) => {\n        return prevstate + 1;\n    }, 0);\n\n    useEffect(() => {\n        if (imagesLoaded === TEXTURES.length) {\n            (async () => {\n                const loaded: Array<Texture> = [];\n                for (let i = 0; i < TEXTURES.length; i++) {\n                    const t = TEXTURES[i];\n                    let loadedImage = document.getElementById(t.name) as HTMLImageElement;\n                    if (t.alphaMultiplier !== undefined) {\n                        loadedImage = await makeImageTransparent(loadedImage, t.alphaMultiplier);\n                    }\n                    loaded.push({ ...t, loadedImage });\n                }\n                onLoaded(loaded);\n\n            })();\n        }\n    }, [imagesLoaded, onLoaded]);\n\n    return <>\n        {TEXTURES.map(t => <img key={t.name} src={t.url} id={t.name} style={{ display: 'none' }} alt='' onLoad={imageLoaded} />)}\n    </>;\n}","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,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\"","import { ExpandMore } from '@mui/icons-material';\r\nimport { Accordion, AccordionDetails, AccordionSummary, Typography } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport React from 'react';\r\n\r\ninterface DefinitionCardProps {\r\n    title: string;\r\n    titleContent?: JSX.Element;\r\n    enabled?: boolean;\r\n    blocks: Array<{\r\n        title?: string;\r\n        content: JSX.Element;\r\n    }>;\r\n\r\n}\r\n\r\nexport const DefinitionCard: React.FC<DefinitionCardProps> = ({ title, enabled, blocks, titleContent }) => <Accordion key={title} disabled={!enabled}>\r\n    <AccordionSummary\r\n        sx={{ bgcolor: 'grey.200' }}\r\n        expandIcon={<ExpandMore />}>\r\n        <Typography>{title} {titleContent}</Typography>\r\n\r\n    </AccordionSummary>\r\n    <AccordionDetails sx={{ bgcolor: 'grey.50' }}>\r\n        {blocks.map(block => <Box sx={{ m: 1 }}>\r\n            {block.title && <Typography>{block.title}</Typography>}\r\n            <Box sx={{ borderTop: block.title ? 1 : 0, pt: block.title ? 1 : 0 }}>\r\n                {block.content}\r\n            </Box>\r\n        </Box>)}\r\n    </AccordionDetails>\r\n</Accordion>;","import { FormControlLabel, Slider } from '@mui/material';\r\nimport React from 'react';\r\n\r\ninterface NumberInputProps {\r\n    value: number,\r\n    min: number,\r\n    max: number,\r\n    step?: number,\r\n    label: string,\r\n    width?: number,\r\n    onChange: (value: number) => unknown\r\n}\r\n\r\nexport const NumberInput: React.FC<NumberInputProps> = ({ value, min, max, step, label, width = 90, onChange }) => {\r\n    return <FormControlLabel sx={{ width: `${width}%` }} label={label} labelPlacement='top' control={<Slider value={value} valueLabelDisplay='auto' min={min} max={max} step={step} marks={!!step} onChange={(_, value) => onChange(value as number)} />} />;\r\n}","import { Select, MenuItem, FormControl, InputLabel } from '@mui/material';\r\nimport React from 'react';\r\nimport { Texture, TextureCategory } from './Textures';\r\n\r\nexport interface TextureSelectorProps {\r\n    textures: Record<string, Texture>,\r\n    type: 'single' | 'pattern',\r\n    category?: TextureCategory,\r\n    label?: string,\r\n    value: string,\r\n    width?: number,\r\n    onChange: (name: string) => unknown,\r\n}\r\n\r\n\r\nexport const TextureSelector: React.FC<TextureSelectorProps> = ({ textures, type, category, label, value, width = 90, onChange }) => {\r\n    const renderValue = (t: string) => <><img alt={`Texture: ${t}`} style={{ height: '1.5rem', marginRight: '0.2rem' }} src={textures[t].url} />{t}</>;\r\n\r\n    return <FormControl sx={{ width: `${width}%` }}>\r\n        <InputLabel>{label}</InputLabel>\r\n        <Select\r\n            value={value}\r\n            onChange={(e) => onChange(e.target.value as string)}\r\n            label={label}\r\n            displayEmpty\r\n            renderValue={selected => selected ? renderValue(selected) : label}\r\n            autoWidth\r\n        >\r\n            <MenuItem value=''>None</MenuItem>\r\n            {Object.keys(textures)\r\n                .filter(t => textures[t].type === type)\r\n                .filter(t => !category || (textures[t].category === category))\r\n                .map(t => <MenuItem value={t}>{renderValue(t)}</MenuItem>)}\r\n        </Select>\r\n    </FormControl>;\r\n}","import { Add, ClearAll, Delete } from '@mui/icons-material';\r\nimport { Button } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport { DefinitionCard } from './DefinitionCard';\r\nimport { NumberInput } from './NumberInput';\r\nimport { Texture } from './Textures';\r\nimport { TextureSelector } from './TextureSelector';\r\n\r\nexport interface ObjectLayerCardProps {\r\n    name: string;\r\n    textures: Record<string, Texture>;\r\n    generateObjects: (count: number, texture: string) => unknown;\r\n    clearLayer: () => unknown;\r\n    deleteLayer: () => unknown;\r\n}\r\n\r\n\r\nexport const ObjectLayerCard: React.FC<ObjectLayerCardProps> = ({ name, textures, generateObjects, clearLayer, deleteLayer }) => {\r\n    const [count, setCount] = useState<number>(0);\r\n    const [texture, setTexture] = useState<string>('');\r\n\r\n    return <DefinitionCard\r\n        title={`Layer: ${name}`}\r\n        enabled\r\n        titleContent={<>\r\n            <Button startIcon={<Add />} disabled={count === 0 || texture === ''} onClick={e => { generateObjects(count, texture); e.stopPropagation() }} >Add</Button>\r\n            <Button startIcon={<ClearAll />} onClick={e => { clearLayer(); e.stopPropagation(); }} >Clear</Button>\r\n            <Button startIcon={<Delete />} onClick={e => { deleteLayer(); e.stopPropagation(); }} >Remove</Button>\r\n        </>}\r\n        blocks={[\r\n            {\r\n                content: <>\r\n                    <NumberInput width={40} label='No. of objects:' value={count} step={1} min={0} max={100} onChange={setCount} />\r\n                    <TextureSelector width={40} label='Object texture' value={texture} textures={textures ?? {}} type='single' onChange={setTexture} />\r\n                </>\r\n            }\r\n        ]}\r\n    />\r\n}","import { Add } from '@mui/icons-material';\r\nimport { Accordion, AccordionSummary, Button, InputAdornment, TextField, Typography } from '@mui/material';\r\nimport React, { useState } from 'react';\r\n\r\nexport interface CreateLayerCardProps {\r\n    layers: Array<string>;\r\n    onCreate: (name: string) => unknown;\r\n}\r\n\r\n\r\nexport const CreateLayerCard: React.FC<CreateLayerCardProps> = ({ layers, onCreate }) => {\r\n    const [name, setName] = useState<string>('');\r\n\r\n    return <Accordion onClick={e => e.stopPropagation()}>\r\n        <AccordionSummary>\r\n            <Typography>\r\n                <TextField variant='standard' size='small' label='Add object layer' value={name} onChange={e => setName(e.target.value)}\r\n                    InputProps={{\r\n                        endAdornment: <InputAdornment position=\"end\">\r\n                            <Button\r\n                                startIcon={<Add />}\r\n                                disabled={name === '' || layers.includes(name)}\r\n                                onClick={() => {\r\n                                    onCreate(name);\r\n                                    setName('');\r\n                                }}>\r\n                                Create\r\n                            </Button>\r\n                        </InputAdornment>\r\n\r\n                    }}\r\n                />\r\n            </Typography>\r\n        </AccordionSummary>\r\n    </Accordion>;\r\n}","import { Add, Delete } from '@mui/icons-material';\r\nimport { List, ListItem, Button, IconButton } from '@mui/material';\r\nimport { range } from 'lodash';\r\nimport React from 'react';\r\n\r\nexport interface ListComponentProps {\r\n    items: number;\r\n    itemFactory: (index: number) => JSX.Element;\r\n    addItem: () => unknown;\r\n    removeItem: (index: number) => unknown;\r\n    name: string;\r\n}\r\n\r\nexport const ListComponent: React.FC<ListComponentProps> = ({ items, itemFactory, addItem, removeItem, name }) => {\r\n    return <List>\r\n        {range(0, items).map(index => <ListItem>\r\n            {itemFactory(index)} <IconButton onClick={() => removeItem(index)}><Delete /></IconButton>\r\n        </ListItem>)}\r\n        <ListItem>\r\n            <Button startIcon={<Add />} onClick={addItem}>{`Add ${name}`}</Button>\r\n        </ListItem>\r\n    </List>;\r\n}","import React, { useState } from 'react';\r\nimport { ListComponent } from './ListComponent';\r\nimport { Button } from '@mui/material';\r\nimport { Texture } from './Textures';\r\nimport { TextureSelector } from './TextureSelector';\r\nimport { NumberInput } from './NumberInput';\r\nimport { DefinitionCard } from './DefinitionCard';\r\n\r\nexport interface RoadLayerCardProps {\r\n    name: string;\r\n    textures: Record<string, Texture>;\r\n    sceneHasRiver: boolean;\r\n    generateRoads: (\r\n        mainWidth: number,\r\n        sideRoads: Array<number>,\r\n        texture: string,\r\n        bridgeTexture: string,\r\n        vergeTexture: string,\r\n        vergePercentage: number,\r\n        vergeOverhang: number\r\n    ) => unknown;\r\n}\r\n\r\n\r\nexport const RoadLayerCard: React.FC<RoadLayerCardProps> = ({ name, textures, generateRoads, sceneHasRiver }) => {\r\n    const [mainWidth, setMainWidth] = useState<number>(0);\r\n    const [texture, setTexture] = useState<string>('');\r\n    const [bridgeTexture, setBridgeTexture] = useState<string>('');\r\n    const [sideRoads, setSideRoads] = useState<Array<number>>([]);\r\n    const [vergeTexture, setVergeTexture] = useState<string>('');\r\n    const [vergePercentage, setVergePercentage] = useState<number>(0);\r\n    const [vergeOverhang, setVergeOverhang] = useState<number>(0);\r\n\r\n    return <DefinitionCard\r\n        title='Roads'\r\n        enabled\r\n        titleContent={\r\n            <Button\r\n                disabled={texture === ''}\r\n                onClick={e => { generateRoads(mainWidth, sideRoads, texture, bridgeTexture, vergeTexture, vergePercentage, vergeOverhang); e.stopPropagation() }}>\r\n                Regenerate\r\n            </Button>\r\n        }\r\n        blocks={[\r\n            {\r\n                content: <>\r\n                    <NumberInput width={30} label='Main road width' value={mainWidth} min={0} max={10} step={0.1} onChange={setMainWidth} />\r\n                    <TextureSelector width={30} value={texture} label='Road texture' textures={textures ?? {}} category='road' type='pattern' onChange={setTexture} />\r\n                    {sceneHasRiver && <TextureSelector width={30} value={bridgeTexture} label='Bridge texture' textures={textures ?? {}} category='bridge' type='pattern' onChange={setBridgeTexture} />}\r\n                </>\r\n            },\r\n            {\r\n                title: 'Side roads',\r\n                content: <ListComponent\r\n                    items={sideRoads.length}\r\n                    name='side road'\r\n                    addItem={() => {\r\n                        setSideRoads([...sideRoads, 0]);\r\n                    }}\r\n                    removeItem={index => {\r\n                        sideRoads.splice(index, 1);\r\n                        setSideRoads([...sideRoads]);\r\n                    }}\r\n                    itemFactory={index =>\r\n                        <NumberInput label='Side road width:' value={sideRoads[index]} min={0} max={10} step={0.1} onChange={value => { sideRoads[index] = value; setSideRoads([...sideRoads]); }} />} />\r\n            },\r\n            {\r\n                title: 'Verge',\r\n                content: <>\r\n                    <NumberInput width={25} label='Verge width %' value={vergePercentage} min={0} max={100} step={1} onChange={setVergePercentage} />\r\n                    <NumberInput width={25} label='Verge overhang %' value={vergeOverhang} min={0} max={100} step={1} onChange={setVergeOverhang} />\r\n                    <TextureSelector width={30} value={vergeTexture} textures={textures ?? {}} type='pattern' category='road-edge' onChange={setVergeTexture} label='Verge texture' />\r\n                </>\r\n            },\r\n        ]}\r\n    />;\r\n}","import { Select, MenuItem, FormControlLabel, Switch } from '@mui/material';\r\nimport React from 'react';\r\nimport { DefinitionCard } from './DefinitionCard';\r\nimport { NumberInput } from './NumberInput';\r\nimport { Scene } from './Scene';\r\nimport { TINTS } from './Textures';\r\nimport { fromPolar, lineLength } from './Vector';\r\n\r\nexport interface VisualsCardProps {\r\n    scene: Scene;\r\n    onSceneChanged: (scene: Scene) => unknown;\r\n    resolution: number;\r\n    onResolutionChange: (resolution: number) => unknown;\r\n}\r\n\r\n\r\nexport const VisualsCard: React.FC<VisualsCardProps> = ({ scene, onSceneChanged, resolution, onResolutionChange }) => {\r\n    const shadowLength = Math.round(lineLength(scene.shadowVector) * 10);\r\n    const shadowAngle = Math.round(Math.atan2(scene.shadowVector[1], scene.shadowVector[0]) * 180 / Math.PI);\r\n\r\n    return <DefinitionCard\r\n        title='Visual tweaks'\r\n        enabled\r\n        blocks={[\r\n            {\r\n                content: <>\r\n                    <NumberInput width={25} label='Edge shade' min={0} max={300} step={5} value={scene.edgeShade ?? 0} onChange={value => {\r\n                        scene.edgeShade = value;\r\n                        onSceneChanged(scene);\r\n                    }} />\r\n                    <Select sx={{ width: '25%' }} value={scene.tint || 'none'} onChange={e => {\r\n                        scene.tint = e.target.value as string;\r\n                        onSceneChanged(scene);\r\n                    }}>\r\n                        <MenuItem value='none'>no tint</MenuItem>\r\n                        {Object.keys(TINTS).map(t => <MenuItem value={TINTS[t]}>{t}</MenuItem>)}\r\n                    </Select>\r\n                    <FormControlLabel sx={{ width: `$35%` }} labelPlacement='top' control={<Switch checked={scene.grid} onChange={() => {\r\n                        scene.grid = !scene.grid;\r\n                        onSceneChanged(scene);\r\n                    }} />} label=\"Display grid\" />\r\n                    <NumberInput label='Pixels per grid' width={35} min={20} max={100} step={5} value={resolution} onChange={onResolutionChange} />\r\n                </>\r\n            },\r\n            {\r\n                title: 'Shadows',\r\n                content: <>\r\n                    <NumberInput width={40} label='Shadow length' value={shadowLength} min={0} max={50} step={1} onChange={value => {\r\n                        scene.shadowVector = fromPolar(value / 10, Number(shadowAngle) * Math.PI / 180);\r\n                        onSceneChanged(scene);\r\n                    }} />\r\n                    <NumberInput width={40} label='Shadow direction' step={5} min={-180} max={180} value={shadowAngle} onChange={value => {\r\n                        scene.shadowVector = fromPolar(shadowLength / 10, value * Math.PI / 180);\r\n                        onSceneChanged(scene);\r\n                    }} />\r\n                </>\r\n            }\r\n        ]}\r\n    />\r\n}","import { Button } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport { DefinitionCard } from './DefinitionCard';\r\nimport { NumberInput } from './NumberInput';\r\nimport { Scene } from './Scene';\r\nimport { Texture } from './Textures';\r\nimport { TextureSelector } from './TextureSelector';\r\nimport { Point } from './Vector';\r\n\r\ninterface BaseLayerCardProps {\r\n    textures: Record<string, Texture>;\r\n    createScene: (dimensions: Point, baseTexture: string) => unknown;\r\n    load: (scene: Scene) => unknown;\r\n    save: () => unknown;\r\n    render: () => unknown;\r\n}\r\n\r\nexport const BaseLayerCard: React.FC<BaseLayerCardProps> = ({ textures, createScene, load, save, render }) => {\r\n\r\n    const [texture, setTexture] = useState<string>('');\r\n    const [width, setWidth] = useState<number>(10);\r\n    const [height, setHeight] = useState<number>(10);\r\n\r\n    return <DefinitionCard\r\n        title={`Scene (${width} x ${height})`}\r\n        titleContent={<><Button\r\n            disabled={texture === ''}\r\n            onClick={e => { createScene([width, height], texture); e.stopPropagation(); }}>\r\n            Create\r\n        </Button>\r\n            <input\r\n                accept=\"application/json\"\r\n                style={{ display: 'none' }}\r\n                id=\"load-button\"\r\n                type=\"file\"\r\n                onChange={async e => {\r\n                    load(JSON.parse(await e.target.files![0].text()));\r\n                }}\r\n            />\r\n            <label htmlFor=\"load-button\">\r\n                <Button component=\"span\">\r\n                    Load\r\n                </Button>\r\n            </label>\r\n            <Button onClick={save}>Save</Button>\r\n            <Button onClick={render}>Export JPG</Button>\r\n        </>\r\n        }\r\n        enabled\r\n        blocks={[{\r\n            title: 'Background',\r\n            content: <>\r\n                <NumberInput width={25} value={width} min={1} max={50} step={1} onChange={setWidth} label='Width' />\r\n                <NumberInput width={25} value={height} min={1} max={50} step={1} onChange={setHeight} label='Height' />\r\n                <TextureSelector width={30} value={texture} textures={textures ?? {}} type='pattern' category='ground' onChange={setTexture} label='Ground texture' />\r\n            </>\r\n        },\r\n        ]} />;\r\n\r\n}","import { Button } from '@mui/material';\r\nimport React, { useState } from 'react';\r\nimport { DefinitionCard } from './DefinitionCard';\r\nimport { NumberInput } from './NumberInput';\r\nimport { Texture } from './Textures';\r\nimport { TextureSelector } from './TextureSelector';\r\n\r\nexport interface RiverLayerCardProps {\r\n    name: string;\r\n    textures: Record<string, Texture>;\r\n    generateRiver: (mainWidth: number, texture: string, bankTexture: string, bankPercentage: number, bankOverhang: number) => unknown;\r\n}\r\n\r\n\r\nexport const RiverLayerCard: React.FC<RiverLayerCardProps> = ({ name, textures, generateRiver }) => {\r\n    const [mainWidth, setMainWidth] = useState<number>(0);\r\n    const [texture, setTexture] = useState<string>('');\r\n    const [bankTexture, setBankTexture] = useState<string>('');\r\n    const [bankPercentage, setBankPercentage] = useState<number>(0);\r\n    const [bankOverhang, setBankOverhang] = useState<number>(0);\r\n\r\n    return <DefinitionCard\r\n        title='River'\r\n        enabled\r\n        titleContent={\r\n            <Button\r\n                disabled={texture === ''}\r\n                onClick={e => { generateRiver(mainWidth, texture, bankTexture, bankPercentage, bankOverhang); e.stopPropagation() }}>\r\n                Regenerate\r\n            </Button>\r\n        }\r\n        blocks={[\r\n            {\r\n                content: <>\r\n                    <NumberInput width={40} label='Width' value={mainWidth} min={0} max={10} step={0.1} onChange={setMainWidth} />\r\n                    <TextureSelector width={40} value={texture} textures={textures ?? {}} type='pattern' category='river' onChange={setTexture} label='River texture' />\r\n                </>\r\n            },\r\n            {\r\n                title: 'Riverbank',\r\n                content: <>\r\n                    <NumberInput width={25} label='Width %' value={bankPercentage} min={0} max={100} step={1} onChange={setBankPercentage} />\r\n                    <NumberInput width={25} label='Overhang %' value={bankOverhang} min={0} max={100} step={1} onChange={setBankOverhang} />\r\n                    <TextureSelector width={30} value={bankTexture} textures={textures ?? {}} type='pattern' category='river-edge' onChange={setBankTexture} label='Texture' />\r\n                </>\r\n            },\r\n        ]}\r\n    />\r\n}","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { drawScene } from './ShapeDrawer';\r\nimport { SceneGenerator } from './SceneGenerator';\r\nimport { Point, stretch } from './Vector';\r\nimport { Texture, Textures } from './Textures';\r\nimport { Scene } from './Scene';\r\nimport { ObjectLayerCard } from './ObjectLayerCard';\r\nimport { CreateLayerCard } from './CreateLayerCard';\r\nimport { RoadLayerCard } from './RoadLayerCard';\r\nimport { VisualsCard } from './VisualsCard';\r\nimport { BaseLayerCard } from './BaseLayerCard';\r\nimport { RiverLayerCard } from './RiverLayerCard';\r\nimport { FormControlLabel, Stack, Switch } from '@mui/material';\r\nimport { Box } from '@mui/system';\r\nimport fileDownload from 'js-file-download';\r\n\r\nconst SCALE = 70;\r\n\r\ndeclare const OffscreenCanvas: any;\r\nexport const Canvas: React.FC<{}> = () => {\r\n\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const [textures, setTeztures] = useState<Record<string, Texture>>();\r\n    const [scene, setScene] = useState<Scene>(SceneGenerator.create([10, 10], 'grass'));\r\n    const [resolution, setResolution] = useState<number>(SCALE);\r\n    const [debug, setDebug] = useState<boolean>(false);\r\n\r\n    const regenerateRoads = useCallback((layer: string, mainWidth: number, sideRoads: Array<number>, texture: string, bridgeTexture: string, vergeTexture: string, vergePercentage: number, vergeOverhang: number) => {\r\n        if (textures) {\r\n            setScene({ ...SceneGenerator.roads(scene, layer, mainWidth, sideRoads, textures[texture], textures[bridgeTexture], textures[vergeTexture], vergePercentage, vergeOverhang) });\r\n        }\r\n    }, [scene, textures]);\r\n\r\n    const regenerateRiver = useCallback((layer: string, mainWidth: number, texture: string, bankTexture: string, bankPercentage: number, bankOverhang: number) => {\r\n        if (textures) {\r\n            setScene({ ...SceneGenerator.river(scene, layer, mainWidth, textures[texture], textures[bankTexture], bankPercentage, bankOverhang) });\r\n        }\r\n    }, [scene, textures]);\r\n\r\n\r\n    const clearLayer = useCallback((layer: string) => {\r\n        delete scene.layers?.[layer]?.areas;\r\n        delete scene.layers?.[layer]?.objects;\r\n        setScene({ ...scene });\r\n    }, [scene]);\r\n\r\n    const removeLayer = useCallback((layer: string) => {\r\n        delete scene.layers?.[layer];\r\n        setScene({ ...scene });\r\n    }, [scene]);\r\n\r\n    const createLayer = useCallback((layer: string) => {\r\n        scene.layers[layer] = { type: 'object' };\r\n        setScene({ ...scene });\r\n    }, [scene]);\r\n\r\n    const generateObjects = useCallback((layer: string, count: number, texture: string) => {\r\n        if (textures) {\r\n            SceneGenerator.objects(scene, layer, count, textures[texture]);\r\n        }\r\n        setScene({ ...scene });\r\n    }, [scene, textures]);\r\n\r\n    const createScene = useCallback((dimension: Point, texture: string) => {\r\n        setScene(SceneGenerator.create(dimension, texture));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (textures) {\r\n            const canvas = canvasRef.current;\r\n            if (canvas) {\r\n                // babylonRender(canvas, textures, scene);\r\n                const context = canvas.getContext('2d');\r\n                if (context) {\r\n                    drawScene(context, textures, scene, debug);\r\n                }\r\n            }\r\n        }\r\n    }, [textures, scene, resolution, debug]);\r\n\r\n\r\n\r\n    const onTexturesLoaded = useCallback((textures: Array<Texture>) => {\r\n        const textureMap: Record<string, Texture> = textures.reduce((acc, curr) => { acc[curr.name] = curr; return acc; }, {} as Record<string, Texture>);\r\n        setTeztures(textureMap);\r\n    }, []);\r\n\r\n    const sceneHasRiver = Object.values(scene.layers).filter(layer => layer.type === 'river').some(layer => layer.areas && layer.areas.length > 0);\r\n\r\n    return <>\r\n        <Textures onLoaded={onTexturesLoaded} />\r\n        <div style={{ display: 'flex', width: '100%' }}>\r\n            <Stack spacing={1}>\r\n                <BaseLayerCard\r\n                    textures={textures ?? {}}\r\n                    createScene={createScene}\r\n                    load={scene => setScene(scene)}\r\n                    save={() => fileDownload(JSON.stringify(scene), `scene (${scene.size[0]} x ${scene.size[1]}).json`, 'text/json')}\r\n                    render={async () => {\r\n                        if (textures) {\r\n                            const offscreen = new OffscreenCanvas(...stretch(scene.size, resolution));\r\n                            const osContext = offscreen.getContext('2d') as CanvasRenderingContext2D;\r\n                            drawScene(osContext, textures, scene, false);\r\n                            const blob = await offscreen.convertToBlob({\r\n                                type: \"image/jpeg\",\r\n                                quality: 0.95\r\n                            });\r\n                            fileDownload(blob, `scene (${scene.size[0]} x ${scene.size[1]}).jpg`, 'image/jpeg');\r\n                        }\r\n                    }}\r\n                />\r\n                <RiverLayerCard name='river' textures={textures ?? {}} generateRiver={regenerateRiver.bind(null, 'river')} />\r\n                <RoadLayerCard name='road' sceneHasRiver={sceneHasRiver} textures={textures ?? {}} generateRoads={regenerateRoads.bind(null, 'road')} />\r\n                {Object.keys(scene.layers).filter(layer => scene.layers[layer].type === 'object').map(layer => {\r\n                    return <ObjectLayerCard\r\n                        name={layer}\r\n                        textures={textures ?? {}}\r\n                        generateObjects={(count, texture) => generateObjects(layer, count, texture)}\r\n                        clearLayer={() => clearLayer(layer)}\r\n                        deleteLayer={() => removeLayer(layer)}\r\n                    />\r\n                })}\r\n                <CreateLayerCard layers={Object.keys(scene.layers)} onCreate={createLayer} />\r\n\r\n                <VisualsCard scene={scene}\r\n                    resolution={resolution}\r\n                    onResolutionChange={setResolution}\r\n                    onSceneChanged={scene => setScene({ ...scene })}\r\n                />\r\n                <Box sx={{ boxShadow: 3 }}>\r\n                    <FormControlLabel control={<Switch checked={debug} onChange={() => setDebug(!debug)} />} label=\"Debug mode\" />\r\n                </Box>\r\n            </Stack>\r\n            <canvas style={{ width: `${scene.size[0] * resolution}px`, height: `${scene.size[1] * resolution}px` }} ref={canvasRef} width={`${scene.size[0] * resolution}px`} height={`${scene.size[1] * resolution}px`} />\r\n        </div>\r\n    </>;\r\n}","import React from 'react';\nimport { Canvas } from './Canvas';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Canvas />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}